# Music App

Веб-приложение для прослушивания музыки

## Описание

Music App — это полнофункциональное приложение для работы с музыкальным каталогом, состоящее из:

- **Web клиент** (React + TypeScript + Vite)
- **Backend API** (Express + TypeScript)

## Технологии

### Frontend

- **React** 19.2.0
- **TypeScript** 5.9.3
- **Vite** 7.2.4 (сборщик и dev-сервер)
- **@vitejs/plugin-react-swc** (React компилятор)
- **TailwindCSS** (стилизация)

**Инструменты разработки:**
- **ESLint** 9.39.1
- **Prettier** 3.6.2
- **concurrently** 8.2.2 (запуск frontend и backend вместе)

### Backend

- **Node.js** (ES Modules режим)
- **Express** 4.18.2
- **TypeScript** 5.3.3
- **CORS** 2.8.5
- **tsx** 4.7.0 (запуск TypeScript напрямую в dev)

## Установка и запуск

### Предварительные требования

- Node.js (рекомендуется LTS версия)
- npm

### Установка зависимостей

```bash
# Установка зависимостей frontend
npm install

# Установка зависимостей backend
cd backend
npm install
cd ..
```

### Запуск в режиме разработки

Запуск frontend и backend одновременно:

```bash
npm run dev:all
```

Или по отдельности:

```bash
# Только frontend (порт 5173)
npm run dev

# Только backend (порт 3001)
npm run dev:backend
```

### Сборка для production

```bash
# Frontend
npm run build

# Backend
cd backend
npm run build
npm start
```

## API

Backend API следует REST-подобной архитектуре и использует JSON:API-стиль ответов.

### Базовый URL

Все API endpoints находятся под `/api`

### Основные ресурсы

- `/api/auth/*` — Авторизация через OAuth
- `/api/playlists` — Плейлисты
- `/api/tags` — Теги
- `/api/artists` — Артисты

## Конфигурация

### Frontend

Vite dev сервер автоматически проксирует запросы `/api/*` на backend сервер (порт 3001).

Frontend должен использовать относительные пути:
- `/api/auth/login`
- `/api/playlists`
- `/api/playlists/tracks`

## Стилизация

Проект использует **TailwindCSS** для стилизации:

## Разработка

### Code Style

- **TypeScript-first** подход со строгой типизацией
- Функциональные компоненты и React hooks
- Избегайте `any` и `unknown` где возможно
- Код должен проходить ESLint и Prettier проверки

### Именование

- React компоненты: `PascalCase` (например, `PlayerBar.tsx`)
- Hooks: `useSomething.ts`
- Утилиты: `camelCase` (например, `formatDuration.ts`)

### Структура проекта

Проект организован по **feature-oriented архитектуре** — код группируется по функциональным блокам (фичам и сущностям), чтобы упростить масштабирование и сопровождение.


#### `app/`
Инициализация приложения: входная точка, корневой компонент, провайдеры, роутинг и т.д.

#### `shared/`
Переиспользуемые примитивы: UI компоненты, утилиты, общие хуки, конфиги, базовый API-клиент.

#### `entities/`
Бизнес-сущности: модели данных, запросы, стейт и компоненты, связанные конкретно с сущностью (например, трек, пользователь).

#### `features/`
Завершённые пользовательские действия: авторизация, поиск, лайки и т.д. Содержат логику и UI, специфичные для сценария.

#### `widgets/`
Крупные UI-блоки, собирающие несколько features/entities: шапка, сайдбар, плеер.

#### `pages/`
Отдельные страницы приложения: layout, подключение виджетов и фич, логика страницы.

#### Основные принципы

- Модули инкапсулированы.
- Импорты через публичные `index.ts`.
- Минимальная связанность между слоями.
- Логика распределена по смыслам, а не по типам файлов.
